<!--begin::Header container-->
<div class="app-container" id="kt_app_header_container" [ngClass]="headerContainerCssClass">
  <ng-container *ngIf="appSidebarDefaultCollapseDesktopEnabled">
    <div class="app-sidebar-collapse-d-flex align-items-center me-3">
      <!--begin::sidebar toggle-->
      <div class="btn btn-icon w-auto px-0 btn-color-muted btn-active-icon-primary" data-kt-toggle="true"
        data-kt-toggle-target="body" data-kt-toggle-mode="on" data-kt-toggle-name="app-sidebar-collapse">
        <span [inlineSVG]="'./assets/media/icons/duotune/arrows/arr080.svg'" class="svg-icon svg-icon-1"></span>
      </div>
      <!--end::sidebar toggle-->
    </div>
  </ng-container>

  <ng-container *ngIf="asideDisplay">
    <div class="d-flex align-items-center  ms-n3 me-1" title="Show aside menu">
      <div class="
          btn btn-icon btn-active-light-primary
          w-30px
          h-30px
          w-md-40px
          h-md-40px d-lg-none
        " id="kt_aside_mobile_toggle">
        <span [inlineSVG]="'./assets/media/icons/duotune/abstract/abs015.svg'" class="svg-icon svg-icon-2x mt-1"></span>
      </div>
    </div>
  </ng-container>

  <ng-container *ngIf="!appSidebarDisplay">
    <!--begin::Logo-->
    <div class="d-flex align-items-center flex-grow-1 flex-lg-grow-0 me-lg-15">
      <a routerLink="/dashboard">
        <ng-container *ngIf="currentLayoutType === 'dark-header'">
          <img alt="Logo" src="./assets/media/logos/default-dark.svg"
            class="h-20px h-lg-30px app-sidebar-logo-default" />
        </ng-container>
        <ng-container *ngIf="currentLayoutType !== 'dark-header'">
          <img alt="Logo" src="./assets/media/wonder/RED-LOGO-BG-Horizontal-transprant.png"
            class="h-20px h-lg-30px app-sidebar-logo-default theme-light-show" />
          <img alt="Logo" src="./assets/media/logos/default-dark.svg"
            class="h-20px h-lg-30px app-sidebar-logo-default theme-dark-show" />
        </ng-container>
      </a>
    </div>
    <!--end::Logo-->
  </ng-container>

  <!--begin::Header wrapper-->
  <div *ngIf="userData" class="app-navbar flex-shrink-0 align-items-center">
    <div>
      <div class="d-block d-md-flex">


        <span class="fs-8 text-gray-400 d-block">Date & Time:
          <span class="text-gray-400"> {{ rxTime | date: 'dd-MMM-yyyy hh:mm:ss a' }} </span>
        </span>
        <!-- <span class="fs-8 text-gray-400 ms-0 ms-md-3 d-block">Last Login:
          <span class="text-gray-400">{{userData?.loginDateTime | date: 'dd-MMM-yyyy hh:mm:ss a'}}</span>

        </span> -->
      </div>
      <div class="d-flex justify-content-end">
        <div class="mb-0 mt-1 d-flex">

          <!-- <span class="me-1  text-gray-700 fs-5 d-block"><i style="font-size:12px;">Welcome: </i>&nbsp; </span> -->
          <span class="mb-0  fw-bold text-gray-800 fs-5">
            {{userData.fullName}}
          </span>


        </div>
        <div class="app-navbar-item ms-4 ms-md-3" id="kt_header_user_menu_toggle">

          <div class="cursor-pointer symbol symbol-30px symbol-md-30px
      menu-dropdown" data-kt-menu-trigger="{default: 'click', lg: 'hover'}" data-kt-menu-attach="parent"
            data-kt-menu-placement="bottom-end">
            <!-- <img src="../../../../../assets/media/avatars/blank.png" alt="user"> -->

            <span class="symbol-label fs-7 fw-bolder">{{initialNames}}</span>

          </div>

          <div
            class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-800 menu-state-bg menu-state-color fw-semibold py-4 fs-6 w-auto"
            data-kt-menu="true"
            style="z-index: 107; position: fixed; inset: 0px 0px auto auto; margin: 0px; transform: translate3d(-30px, 70px, 0px);"
            data-popper-placement="bottom-end">

            <div class="menu-item px-3">
              <div class="menu-content d-flex align-items-center px-3">

                <div class="symbol symbol-50px me-5">
                  <!-- <img alt="Logo" src="../../../../../assets/media/avatars/blank.png"> -->
                  <span class="symbol-label fs-4 fw-bolder">{{initialNames}}</span>
                </div>

                <div class="d-flex flex-column">
                  <div class="fw-bold d-flex align-items-center fs-5">
                    {{userData.fullName}}
                  </div>
                  <a class="fw-semibold text-muted text-hover-primary fs-7">
                    {{userData.email}} </a>
                </div>

              </div>

              <a *ngIf="switchtoepscondition()" (click)="switchToeps()"
                class=" p-2 bg-light mx-3 text-hover-primary text-gray-700 fs-8 cursor-pointer"> <span
                  class="svg-icon me-3 ">
                  <svg data-name="Layer 1" id="Layer_1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                    <path fill="currentcolor"
                      d="M412.31,291.46,478,357.15l-65.69,65.68-21-21L421.07,372h-44a87.86,87.86,0,0,1-62.53-25.9l-159.2-159.2a58.29,58.29,0,0,0-41.5-17.19H34V140h79.87a87.83,87.83,0,0,1,62.53,25.91L335.6,325.08a58.27,58.27,0,0,0,41.5,17.19h44l-29.79-29.78Zm-257,33.65a59.1,59.1,0,0,1-41.53,17.16H34V372h79.81a89,89,0,0,0,62.54-25.86l53.7-53.51-21-21.07ZM335.63,186.89a59.09,59.09,0,0,1,41.53-17.16h43.91l-29.79,29.78,21,21L478,154.86,412.31,89.17l-21,21L421.07,140H377.16a89.08,89.08,0,0,0-62.58,25.89l-53.52,53.7,21.07,21Z" />
                  </svg>
                </span> Switch To EPS </a>
            </div>


            <div class="separator my-2"></div>

            <!-- <div class="menu-item px-5">
            <a  class="menu-link px-5">
            My Profile
            </a>
         </div>

         <div class="separator my-2"></div> -->

            <div class="menu-item px-5">
              <a (click)="logout()" class="menu-link px-5">
                Logout
              </a>
            </div>

          </div>

        </div>
      </div>
    </div>
    <!-- userprofile? -->


  </div>
  <!--end::Header wrapper-->
</div>
<!--end::Header container-->
